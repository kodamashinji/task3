  dynamitecoolguy@gmail.com
  026845558380  ( https://026845558380.signin.aws.amazon.com/console )

IAM:
  ユーザー: kodama (AdministratorAccessをアタッチ)
  Billing and Cost ManagementのIAMユーザーによる請求情報へのアクセスを有効化

  ポリシーの新規作成
    ViewBillingAll → 作ったポリシーをユーザーkodamaに付与
    {
      "Version": "2012-10-17",
      "Statement": [
          {
              "Effect": "Allow",
              "Action": "aws-portal:ViewBilling",
              "Resource": "*"
          }
      ]
    }

  ロール:
    lambda-all-role
      Lambdaロール / AmazonEC2FullAccess, AmazonS3FullAccess, AWSLambdaFullAccess, AmazonSQSFullAccess

EC2:
  インスタンス作成:
    T2, AmazonLinux, ほぼデフォルト設定, Public IPなし
    セキュリティグループ: ssh only
    インスタンスID: i-0f2ace5d656e6fa62
    # sudo yum update && sudo yum install python3 git && pip3 install boto3 pyarrow pandas smart_open
    # ssh-keygen -t rsa
    # eval "$(ssh-agent -s)"
    # ssh-add ~/.ssh/id_rsa
    # cat ~/.ssh/id_rsa.pub   (githubに貼り付け)
    # git config --global user.email "vendetta@pa2.so-net.ne.jp"
    # git config --global user.name "Shinji Kodama"
    # git clone git@github.com:kodamashinji/task3.git
    # aws configure


SQS:
  キュー名: request-queue
    種類: 標準キュー
    パラメータ: デフォルト

API Gateway:
  API名: position
    メソッド: /register  POST   lambda : parse-request
    デプロイ:  https://gaau8g4xac.execute-api.ap-northeast-1.amazonaws.com/production
    リソースポリシー:
    {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Effect": "Allow",
                "Principal": "*",
                "Action": "execute-api:Invoke",
                "Resource": "arn:aws:execute-api:ap-northeast-1:026845558380:gaau8g4xac/production/POST/register"
            }
        ]
    }


S3:
  バケット: //me32as8cme32as8c-task3-location
    サブフォルダ: /work, /parted

  バケット: //me32as8cme32as8c-task3-download


Redshift:
  IAMロール: redshift-role
    Redshift
      Redshift - Customizable
        AmazonS3ReadOnlyAccess, AWSGlueConsoleFullAccessポリシーを付与

  セキュリティグループの作成:
    outbound
      TCP/5439 0.0.0.0/0

  クラスター: task3
    データベース名: location
    ポート: 5439
    ノードタイプ: dc2.large
    パブリックアクセス可能: Yes
    Enahdnced VPC Routingが必要か????
    エンドポイント: task3.coni1ixwsfmu.ap-northeast-1.redshift.amazonaws.com:5439

